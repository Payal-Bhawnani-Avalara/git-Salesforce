<aura:component >

    <aura:attribute name="name" type="String"/>
    <aura:attribute name="optionType" type="String"/>
    <aura:attribute name="options" type="Object[]"/>
    <aura:attribute name="values" type="Object[]"/>
    <aura:attribute name="joinedValues" type="String"/>
    <aura:attribute name="label" type="String"/>
    <aura:attribute name="placeHolder" type="String"/>
    <aura:attribute name="required" type="Boolean"/>

    <aura:if isTrue="{!v.optionType == 'select'}">
        <div class="slds-form-element">
            <div class="slds-form-element__control">
                <JCFS:SelectList name="{!v.name}"
                              label="{!v.label}"
                              required="{!v.required}"
                              value="{!v.joinedValues}"
                              placeholder="{!v.placeHolder}"
                              multiple="true">
                    <aura:iteration items="{!v.options}" var="item">
                        <JCFS:SelectListOption class="{!if(item.isAllowed, '', 'italic')}" label="{!item.label}"
                                            value="{!item.value}"/>
                    </aura:iteration>
                </JCFS:SelectList>
            </div>
        </div>
    </aura:if>

    <aura:if isTrue="{!v.optionType == 'checkbox'}">
        <div class="slds-form-element">
            <label class="slds-form-element__legend slds-form-element__label">{!v.label}</label>
            <div class="slds-form-element__control">
                <aura:iteration items="{!v.options}" var="item">
                    <span class="slds-checkbox">
                        <aura:if isTrue="{!item.checked}">
                            <input type="checkbox" name="{!v.name}" id="{!item.value}" value="{!item.value}" checked="checked"/>
                            <aura:set attribute="else">
                                <input type="checkbox" name="{!v.name}" id="{!item.value}" value="{!item.value}"/>
                            </aura:set>
                        </aura:if>
                      <label class="slds-checkbox__label" for="{!item.value}">
                        <span class="slds-checkbox_faux"></span>
                        <span class="{!'slds-form-element__label' + if(item.isAllowed, '', ' italic')}">{!item.label}</span>
                      </label>
                    </span>
                </aura:iteration>
            </div>
        </div>
    </aura:if>
</aura:component>