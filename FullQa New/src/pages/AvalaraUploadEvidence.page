<apex:page showHeader="false" sidebar="false" docType="html-5.0"  controller="AvalaraCommunityWizardCtrl">
    <style>
        .text-right{
            text-align:right;
        }
        .row{
            margin-bottom:2%;
        }
        .div-left{
            float:left;
            width:28.3333333%;
        }
        .div-right{
            float:right;
            width:71%;
        }
    </style>

    <apex:composition template="AvalaraTemplate">
        <apex:define name="body">
            <apex:form >
                <div class="container" style="margin-top:4%;min-height:625px;">
                    <h2 style="color:#ed7d31">  Avalara Launch Center </h2>
                    <c:avalaranavigator selected="3" id="navigator" vid="{!versionId}"/>

                    <hr class="avalara-hr"/>
                    <c:avalaraversion currentversion="{!version}"/>
                    <br/>
                    <apex:pageMessages id="pgMsg"></apex:pageMessages>
                    <c:avalaraversionutil currentversionId="{!versionId}" isRequirement="true"/>
                    <h4> Documentation: We need just a few things to get started and weâ€™ve created a few to help you get launched faster! </h4>
                    <div class="row" style="margin-top:2%;">
                        <div class="col-xs-4">
                            <label>User Guide Template</label>
                        </div>
                        <div class="col-xs-8">
                            <a href="https://help.avalara.com/Directory/AvaTax_Partner_Documentation_Help" target="_blank" class="btn btn-sm btn-primary ">User Guide Template</a>
                        </div>
                    </div>
                     <div class="row" style="margin-top:1%;">
                        <div class="col-xs-4">
                            <label>Press Release Template</label>
                        </div>
                        <div class="col-xs-8">
                            <a href="https://help.avalara.com/Directory/AvaTax_Partner_Documentation_Help/AvaTax_Partner_Press_Release_Help" target="_blank" class="btn btn-sm btn-primary ">Release Template</a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label>Submit User Guide (url)</label>
                        </div>
                        <div class="col-xs-8">
                            <apex:inputField value="{!knowledge.Submit_User_Guide_url__c}" styleClass="form-control input-sm"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label>Submit Demo Video (url) (optional)</label>
                        </div>
                        <div class="col-xs-8">
                            <apex:inputField value="{!knowledge.Submit_Demo_Video_url__c}" styleClass="form-control input-sm"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <label>Attach Company Logo</label>
                        </div>
                        <div class="col-xs-8">
                            <apex:inputFile value="{!att.body}" filename="{!att.name}" id="avalaraupload"/>
                            <br/>
                            <img id="recentupload" height="100px;"></img>
                        </div>
                    </div>
                    <apex:outputPanel layout="block" rendered="{!versionAttachment.size > 0}">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title">
                                    <span class="glyphicon glyphicon-file"></span> Existing Logo{!IF(versionAttachment.size > 1,'s','')}
                                </h3>
                            </div>
                            <ul class="list-group">
                                <apex:repeat value="{!versionAttachment}" var="att">
                                    <li class="list-group-item" style="margin-left:0px;">
                                        <apex:outputLabel > {!att.Name} </apex:outputLabel>
                                    </li>
                                </apex:repeat>
                            </ul>
                        </div>
                    </apex:outputPanel>
                    <div class="row">
                        <div class="col-xs-12" style="text-align:right;">
                            <apex:commandButton styleClass="btn btn-sm btn-success" style="width:200px" action="{!uploadAttachment}" value="Save"/>
                        </div>
                    </div>
                </div>
                <apex:actionFunction name="goToTellUs" action="{!saveAndRedirect}" status="status"/>
                <apex:actionFunction name="goToSolutionDetails" action="{!updateAccountDetail}"/>
                <apex:actionFunction name="goToUploadEvidence" action="{!saveRecord}"/>
                <apex:actionFunction name="goToCustomerReference" action="{!uploadAttachment}"/>
            </apex:form>
        </apex:define>
    </apex:composition>
    <script>
        $('input[id$=avalaraupload]').change(function () {
            var reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById("recentupload").src = e.target.result;
            };
            reader.readAsDataURL(this.files[0]);
        });
    </script>
</apex:page>