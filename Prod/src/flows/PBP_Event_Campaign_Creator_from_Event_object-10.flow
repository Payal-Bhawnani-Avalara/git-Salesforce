<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <constants>
        <name>CampaignRecordtypeID</name>
        <dataType>String</dataType>
        <value>
            <stringValue>01240000000UQxw</stringValue>
        </value>
    </constants>
    <constants>
        <name>ConCampaignGroup</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Partner / CDM</stringValue>
        </value>
    </constants>
    <constants>
        <name>VarCampaignstatusPlanned</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Planned</stringValue>
        </value>
    </constants>
    <description>Final removed Campaign subtype to make changes to field 4.11.16</description>
    <interviewLabel>PBP Event Campaign Creator from Event object 9 {!$Flow.CurrentDateTime}</interviewLabel>
    <label>PBP Event Campaign Creator from Event object 9</label>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>create_campaign_from_event_record</name>
        <label>Create campaign from PBP Event</label>
        <locationX>426</locationX>
        <locationY>287</locationY>
        <assignRecordIdToReference>varPBPEventID</assignRecordIdToReference>
        <connector>
            <targetReference>Campaign</targetReference>
        </connector>
        <inputAssignments>
            <field>CampaignGroup__c</field>
            <value>
                <elementReference>ConCampaignGroup</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>EndDate</field>
            <value>
                <elementReference>varPBPEventdate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Lead_Goals__c</field>
            <value>
                <elementReference>VarEventexpectedleads</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>List_Size__c</field>
            <value>
                <elementReference>VarEventlistsize</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Marketing_Manager__c</field>
            <value>
                <elementReference>VarMarketingManager</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>CDMcampaignname</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PBP_Event_Complete__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PBP_Event_ID__c</field>
            <value>
                <elementReference>varPBPEventID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PBP_Ready__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PartnerAccount__c</field>
            <value>
                <elementReference>varPartneraccountlookup</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>CampaignRecordtypeID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StartDate</field>
            <value>
                <elementReference>varPBPEventdate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>varPBPEventtype</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>X2014_Business_Area__c</field>
            <value>
                <elementReference>varBusinessarea</elementReference>
            </value>
        </inputAssignments>
        <object>Campaign</object>
    </recordCreates>
    <recordLookups>
        <name>Campaign</name>
        <label>Lookup Campaign ID</label>
        <locationX>431</locationX>
        <locationY>402</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Stamp_Campaign_on_PBP_Event</targetReference>
        </connector>
        <filters>
            <field>PBP_Event_Complete__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>PBP_Ready__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>Campaign</object>
        <outputAssignments>
            <assignToReference>varCampaignID</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varPBPEventID</assignToReference>
            <field>PBP_Event_ID__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Look_Up_PBP_Event_Fields</name>
        <label>Look Up PBP Event Fields</label>
        <locationX>419</locationX>
        <locationY>185</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>create_campaign_from_event_record</targetReference>
        </connector>
        <filters>
            <field>Campaign__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varPBPEventID</elementReference>
            </value>
        </filters>
        <object>PBP_Event__c</object>
        <outputAssignments>
            <assignToReference>VarActivitytype</assignToReference>
            <field>Activity_Type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varCDMCampaigncreatename</assignToReference>
            <field>CDM_Campaign_Name__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>VarCampaignName1</assignToReference>
            <field>Campaign_Create_Name__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>VarCampaignCreateName</assignToReference>
            <field>Campaign_Create_Name__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varPBPEventdate</assignToReference>
            <field>Event_Date__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vareventmonthyear</assignToReference>
            <field>Event_Month_Year__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Vareventsubtype</assignToReference>
            <field>Event_Subtype__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varPBPEventtype</assignToReference>
            <field>Event_Type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>VarEventexpectedleads</assignToReference>
            <field>Expected_Leads__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varPBPEventID</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>VarEventlistsize</assignToReference>
            <field>List_Size__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>VarMarketingManager</assignToReference>
            <field>Marketing_Manager_Name__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>VarPBPeventname</assignToReference>
            <field>Name</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varPartneraccountname</assignToReference>
            <field>Partner_Account_Name_Text__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>varPartneraccountlookup</assignToReference>
            <field>Partner_Account__c</field>
        </outputAssignments>
    </recordLookups>
    <recordUpdates>
        <name>Stamp_Campaign_Complete</name>
        <label>Stamp Campaign Complete</label>
        <locationX>425</locationX>
        <locationY>635</locationY>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varCampaignID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>PBP_Event_Complete__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Campaign</object>
    </recordUpdates>
    <recordUpdates>
        <name>Stamp_Campaign_on_PBP_Event</name>
        <label>Stamp Campaign on PBP Event</label>
        <locationX>428</locationX>
        <locationY>519</locationY>
        <connector>
            <targetReference>Stamp_Campaign_Complete</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varPBPEventID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Campaign__c</field>
            <value>
                <elementReference>varCampaignID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Create_Campaign__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <object>PBP_Event__c</object>
    </recordUpdates>
    <startElementReference>Look_Up_PBP_Event_Fields</startElementReference>
    <textTemplates>
        <name>CampaignNameTemplate</name>
        <text>{!sobvarPBPEvent.Partner_Account_Name_Text__c} - {!sobvarPBPEvent.Event_Type__c} - {!sobvarPBPEvent.Event_Month_Year__c}</text>
    </textTemplates>
    <textTemplates>
        <name>CDMcampaignname</name>
        <text>{!varCDMCampaigncreatename} - {!varPartneraccountname} {!varPBPEventtype}</text>
    </textTemplates>
    <variables>
        <name>Campaignname</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>sobcNewCampaigns</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Campaign</objectType>
    </variables>
    <variables>
        <description>SobjectCollection - List of PBP Events</description>
        <name>sobcPBPEvents</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>PBP_Event__c</objectType>
    </variables>
    <variables>
        <name>sobvarNewCampaign</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Campaign</objectType>
    </variables>
    <variables>
        <name>sobvarPBPEvent</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>PBP_Event__c</objectType>
    </variables>
    <variables>
        <name>VarActivitytype</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varBusinessarea</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>VarCampaignCreateName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varCampaignID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>VarCampaignName1</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varCDMCampaigncreatename</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>VarEventexpectedleads</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>VarEventlistsize</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>vareventmonthyear</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Vareventsubtype</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>VarMarketingManager</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varPartneraccountlookup</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varPartneraccountname</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varPBPEventdate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>varPBPEventID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>VarPBPeventname</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varPBPEventtype</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>the parent PBP marketing campaign id to pull the list of related PBP events</description>
        <name>varPBPMarketingCampaign</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
